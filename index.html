<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/icon.png" type="image/png">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700i|Work+Sans:300,400,500,600,700" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <title>COVID 19</title>
  </head>


  <body onload="displayData()">


    <header id="header">

    	<nav id="menu" class="navmenu">
    			<i class="fa fa-bars icon" aria-hidden="true" onclick="responsive()" style="font-size: 25px;"></i>
    			<span><br><br><br></span>
    			<a href="" onclick="responsive()">COVID - 19</a>
          <a href="about.html" onclick="responsive()">About Covid-19</a>
          <a href="faq.html" onclick="responsive()">FAQ</a>
          <a href="contact.html" onclick="responsive()">Contact us</a>

    	</nav>
    	<script type="text/javascript">
    		function responsive() {
    			var dropdown = document.getElementById("menu");
    			var header = document.getElementById("header");
    			if (dropdown.className == "navmenu") {
    				dropdown.className = "showmenu";
    				header.className = "header_show";

    			}
    			else {
    				dropdown.className = "navmenu";
    				header.className = "";
    			}

    		}
    	</script>
    </header>

    <section>
    	<div class="landing">
    		<video autoplay loop muted class="background_video">
    			<source src="video.mp4" type="video/mp4">
    		</video>

    		<span class="responsive_span">
    			<p>Covid 19<br></p>
    			<h1 style="position: absolute;left: 30%;"><br></h1>
    		<i class="fa fa-virus" aria-hidden="true" style="font-size: 270px; color: #fff; z-index: 10; margin-top: -40px;"></i><br>
    		<p style="margin-top: -10px;">Updates</p>
    		</span>
    	</div>
    </section>




    <div class="sloped_div1">
    </div>


    <div class="cases">
      <div class="confirmed box">
        <p class="heading">Confirmed</p>
        <p class="numbers" id="confirmed">4000000</p>
      </div>
      <div class="active box">
        <p class="heading">Active</p>
        <p class="numbers" id="active">4000000</p>
      </div>
      <div class="recovered box">
        <p class="heading">Recovered</p>
        <p class="numbers" id="recovered">4000000</p>
      </div>
      <div class="deceased box">
        <p class="heading">Deceased</p>
        <p class="numbers" id="deceased">4000000</p>
      </div>
    </div>

    <div class="tracker">
      <div class="stateHead heading">
        <p>State/UT</p>
      </div>
      <div class="confirmedHead heading">
        <p>Confirmed</p>
      </div>
      <div class="activeHead heading">
        <p>Active</p>
      </div>
      <div class="recoveredHead heading">
        <p>Recovered</p>
      </div>
      <div class="deceasedHead heading">
        <p>Deceased</p>
      </div>

      <table class="table" id="table">
        <tr>
          <td class="stateCol" id="stateCol"></td>
          <td class="confirmedCol dataCol" id="confirmedCol"></td>
          <td class="activeCol dataCol" id="activeCol"></td>
          <td class="recoveredCol dataCol" id="recoveredCol"></td>
          <td class="deceasedCol dataCol" id="deceasedCol"></td>
        </tr>
      </table>
    </div>

    <script>
      function displayData() {
        var table = document.getElementById("table");
        fetch("https://api.covid19india.org/data.json").then(resp=>resp.json()).
        then(data=>{
        let ans=data.statewise;
        var n = ans.length;
        var confirmed = document.getElementById("confirmed");
        var active = document.getElementById("active");
        var recovered = document.getElementById("recovered");
        var deceased = document.getElementById("deceased");
        confirmed.innerHTML = ans[0].confirmed;
        active.innerHTML = ans[0].active;
        recovered.innerHTML = ans[0].recovered;
        deceased.innerHTML = ans[0].deaths;
        for(i=1;i<n;i++) {
          var row = table.insertRow(i);
          var state = row.insertCell(0);
          var confirmed = row.insertCell(1);
          var active = row.insertCell(2);
          var recovered = row.insertCell(3);
          var deceased = row.insertCell(4);
          state.style.background = "#f6f5f7";
          if(i%2!=0) {
            confirmed.style.background = "#f6f5f7";
            active.style.background = "#f6f5f7";
            recovered.style.background = "#f6f5f7";
            deceased.style.background = "#f6f5f7";
          }
          state.innerHTML =  ans[i].state;
          confirmed.innerHTML = ans[i].confirmed;
          active.innerHTML = ans[i].active;
          recovered.innerHTML = ans[i].recovered;
          deceased.innerHTML = ans[i].deaths;
        }
        console.log(ans);
            }).catch((err)=>{
                console.log(err);
            });
      }
    </script>


    <div class="precautions">
      <h1>Precautions</h1>

      <img src="images/img1.jpg"></img>
      <img src="images/img2.jpg"></img>
      <img src="images/img3.jpg"></img>
    </div>




<div class="footer_below">
	<p>Copyright &copy; Covid - 19</p>
</div>


  </body>


</html>
